# Database Configuration
POSTGRES_USER=portal
POSTGRES_PASSWORD=CHANGE_ME_PLEASE
POSTGRES_DB=portal
POSTGRES_PORT=5432  # External port (your machine). Change if port conflict.

# Backend Configuration
BACKEND_PORT=8000
DEBUG=false
# Note: DATABASE_URL uses port 5432 (internal Docker network, don't change)
# For Docker: postgresql+asyncpg://portal:CHANGE_ME_PLEASE@db:5432/portal
# For local: postgresql+asyncpg://postgres:postgres@localhost:PORT/portal
DATABASE_URL=postgresql+asyncpg://portal:CHANGE_ME_PLEASE@db:5432/portal

# Frontend Configuration
FRONTEND_PORT=5173
VITE_API_URL=http://localhost:8000
VITE_HANKO_URL=https://dev.login.hotosm.org

# Docker Build Targets
BACKEND_TARGET=production
FRONTEND_TARGET=production

# CORS Origins (JSON array format)
BACKEND_CORS_ORIGINS=["http://localhost:5173","http://localhost:3000"]

# Hanko Authentication (SSO)
HANKO_API_URL=https://dev.login.hotosm.org
JWT_ISSUER=auto
COOKIE_SECRET=CHANGE_ME_PLEASE_MIN_32_BYTES_LONG

# OpenStreetMap OAuth (Required for OSM login integration)
# Register your app at: https://www.openstreetmap.org/oauth2/applications/new
# Production Redirect URI: https://portal.hotosm.org/api/auth/osm/callback
# Development Redirect URI: http://127.0.0.1:5173/api/auth/osm/callback (use 127.0.0.1, NOT localhost)
# Scopes: read_prefs
OSM_CLIENT_ID=your-osm-client-id
OSM_CLIENT_SECRET=your-osm-client-secret
# IMPORTANT: Change this to your production domain in EC2
OSM_REDIRECT_URI=https://portal.hotosm.org/api/auth/osm/callback
